angular.module("ngAmbassador.file",["ngFileUpload","ngAmbassador.api"]).factory("$file",["Upload","$api",function(Upload,$api){var $file={download:function(url){var iframe=document.getElementById("ga-download");null===iframe&&((iframe=document.createElement("iframe")).id="ga-download",iframe.style.display="none",document.body.appendChild(iframe)),iframe.src=url},upload:function(config){return _.isUndefined(config.headers)?config.headers={Authorization:"Token "+$api.use("default").getToken()}:config.headers.Authorization="Token "+$api.use("default").getToken(),Upload.upload(config)}};return $file}]);