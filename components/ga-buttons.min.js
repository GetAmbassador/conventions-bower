angular.module("ngAmbassador.buttons",["ngClipboard","angularSpinner","ngAmbassador.services"]).config(["ngClipProvider",function(ngClipProvider){ngClipProvider.setPath("bower_components/zeroclipboard/dist/ZeroClipboard.swf")}]).directive("gaButton",["$helper",function($helper){"use strict";return{restrict:"E",transclude:!0,scope:{color:"@",size:"@",loading:"=",buttonDisabled:"=",buttonClick:"&",buttonName:"@",clipboard:"=",customColor:"=",customTextColor:"=",borderWidth:"=",borderColor:"=",fontSize:"=",buttonTooltip:"@",buttonTooltipPlacement:"@"},template:function(element,attrs){var clipboardString="",clipboardClass="",tooltipString="",tooltipPlacement="";return attrs.clipboard?(clipboardString='clip-copy="clipboard"',clipboardClass="btn-clipboard"):attrs.buttonTooltip&&(tooltipString='uib-tooltip="{{buttonTooltip}}" tooltip-is-open="!loadingDisabled"',attrs.buttonTooltipPlacement&&(tooltipPlacement='tooltip-placement="{{buttonTooltipPlacement}}"')),'<button ng-mouseover="setButtonStyle(true)" ng-mouseleave="setButtonStyle(false)" ng-style="buttonStyle" class="btn btn-{{color}} {{btnSize}} '+clipboardClass+'" '+clipboardString+' ng-class="{\'disabled\': loadingDisabled}" ng-disabled="buttonDisabled" ng-click="buttonClick({button: buttonName}); setButtonStyle();" '+tooltipString+tooltipPlacement+'><span ng-class="{ loading: loading }" ng-transclude></span><span ng-show="loading" class="btn-spinner" us-spinner="btnSpinner"></span></button>'},link:function(scope,element,attrs){switch(scope.btnClick=null,scope.loadingDisabled=!1,scope.btnSize="",scope.btnSpinner={},scope.size){case"sm":scope.btnSpinner={radius:4,width:3,length:4,lines:9};break;case"ml":scope.btnSpinner={radius:6,width:4,length:5,lines:10};break;case"lg":scope.btnSpinner={radius:9,width:5,length:5,lines:11};break;default:scope.btnSpinner={radius:5,width:3,length:4,lines:10}}switch(scope.color){case"primary":case"gray":case"danger":scope.btnSpinner.color="#ffffff";break;case"default":scope.btnSpinner.color="#666666"}scope.setButtonStyle=function(hover){scope.buttonStyle={},scope.customColor&&(hover?(scope.buttonStyle["background-color"]=$helper.colorLuminance(scope.customColor,-.1),scope.buttonStyle["border-color"]=$helper.colorLuminance(scope.customColor,-.1)):(scope.buttonStyle["background-color"]=scope.customColor,scope.buttonStyle["border-color"]=scope.customColor)),scope.customTextColor&&(scope.buttonStyle.color=scope.customTextColor,scope.btnSpinner.color=scope.customTextColor),scope.borderColor&&(scope.buttonStyle["border-color"]=scope.borderColor),scope.borderWidth&&(scope.buttonStyle["border-width"]=parseInt(scope.borderWidth)+"px"),scope.fontSize&&(scope.buttonStyle["font-size"]=parseInt(scope.fontSize)+"px")},scope.$watch("customTextColor+customColor+borderWidth+borderColor",function(){scope.setButtonStyle(!1)}),scope.$watch("loading",function(loading){scope.loadingDisabled=!!loading}),"md"!==scope.size&&(scope.btnSize="btn-"+scope.size)}}}]);